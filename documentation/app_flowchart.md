flowchart TD
    Start[Launch App]\n    Start --> CheckSettings[Check for existing settings and data files]\n    CheckSettings -->|No files| CreateDefaults[Create default preference and history files]\n    CheckSettings -->|Files exist| Dashboard[Display Main Dashboard]\n    CreateDefaults --> Dashboard\n    Dashboard --> StartWork[Click Start Work]\n    Dashboard --> StartRest[Click Start Rest]\n    Dashboard --> OpenHistory[Click History icon]\n    Dashboard --> OpenSettings[Click Settings icon]\n    StartWork --> WorkTimer[Work session running]\n    WorkTimer -->|End of work timer| FinishWork[Play finish sound]\n    FinishWork --> AutoCycle1{Auto cycle enabled}\n    AutoCycle1 -->|Yes| RestTimer[Start rest session]\n    AutoCycle1 -->|No| Dashboard\n    RestTimer -->|End of rest timer| FinishRest[Play finish sound]\n    FinishRest --> AutoCycle2{Auto cycle enabled}\n    AutoCycle2 -->|Yes| WorkTimer\n    AutoCycle2 -->|No| Dashboard\n    WorkTimer -->|Pause clicked| PausedWork[Work session paused]\n    PausedWork -->|Resume clicked| WorkTimer\n    PausedWork -->|Stop clicked| Dashboard\n    RestTimer -->|Pause clicked| PausedRest[Rest session paused]\n    PausedRest -->|Resume clicked| RestTimer\n    PausedRest -->|Stop clicked| Dashboard\n    Dashboard --> HistoryPage[Display session history]\n    HistoryPage -->|Back clicked| Dashboard\n    Dashboard --> SettingsPage[Open settings page]\n    SettingsPage --> Validate{Input valid}\n    Validate -->|Yes| SaveSettings[Save new preferences]\n    Validate -->|No| ShowError[Display inline error]\n    SaveSettings --> Dashboard\n    ShowError --> SettingsPage